openapi: 3.0.0
info:
  title: Deal 4U API
  version: 1.0.0
paths:
  /api/v1/login/{type}/page:
    get:
      tags:
        - Member
      summary: 소셜 로그인 페이지 요청
      description: 소셜 로그인을 시도하는 API
      parameters:
        - name: type
          in: path
          required: true
          schema:
            type: string
      responses:
        '302':
          description: Success
          headers:
            location:
              description: 타겟 플랫폼의 로그인 페이지 리다이렉트 url
              schema:
                type: string
                example: http://login_url.com
  /api/v1/login/{type}:
    post:
      tags:
        - Member
      summary: 소셜 로그인 요청
      parameters:
        - name: type
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                code:
                  type: string
                  description: code
      responses:
        '200':
          description: 로그인 성공
        '401':
          description: 로그인 실패 - 회원가입 필요
          content:
            application/json:
              schema:
                type: object
                properties:
                  redirect:
                    type: string
                    format: uri
                    example: /api/v1/signup/{token}
  /api/v1/logout:
    post:
      tags:
        - Member
      summary: 로그아웃
      description: 사용자 로그아웃 처리. 서버에서 리프레시 토큰을 제거하거나 무효화합니다.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                refreshToken:
                  type: string
                  description: 클라이언트에서 전달한 리프레시 토큰
              required:
                - refreshToken
      responses:
        '204':
          description: 로그아웃 성공 (No Content)
        '401':
          description: 인증 실패 – 토큰이 유효하지 않거나 누락됨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SimpleErrorResponse'
        '403':
          description: 권한 없음 – 이미 무효화된 토큰                  
  /api/v1/members/check:
    get:
      tags:
        - Member
      summary: 닉네임 체크
      parameters:
        - name: nickname
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: 사용 가능한 닉네임
        '422':
          description: 사용할 수 없는 닉네임
          content: 
            application/json:
              schema:
               type: object
               oneOf:
                  - $ref: '#/components/schemas/SimpleErrorResponse'
  /api/v1/signup/{token}:
    post:
      tags:
        - Member
      summary: 회원가입
      parameters:
        - name: token
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required : true
        content:
          application/json:
            schema:
              type: object
              properties:
               nickname:
                type: string
            example:
              nickname : 'example'
      responses:
        '201':
          description: 회원가입 성공
        '400':
          description : invalid value
          content: 
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/SimpleErrorResponse'
        '401':
          description: invalid token
          content: 
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/SimpleErrorResponse'

  /api/v1/members:
    patch:
      tags:
        - Member
      summary: 회원 정보 수정
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                nickname:
                  type: string
            example:
               nickname : 'example'
      responses:
        '200':
          description: 업데이트 성공
        '401':
          description: invalid token
          content: 
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/SimpleErrorResponse'
        '403':
          description: 권한 없음
          content: 
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/SimpleErrorResponse'
        '422':
          description: 사용할 수 없는 닉네임
          content: 
            application/json:
              schema:
               type: object
               oneOf:
                  - $ref: '#/components/schemas/SimpleErrorResponse'
  /api/v1/auth/members:
    delete:
      tags:
        - Member
      summary: 소셜 로그인 회원탈퇴
      description: |
        소셜 로그인으로 가입한 사용자가 연동을 해제하고 회원 탈퇴를 요청합니다.  
        소셜 플랫폼 연동 해제 및 사용자 데이터 삭제 또는 비활성화를 수행합니다.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 탈퇴 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string 
                    example: Successfully unlinked and deleted user data.
        '400':
          description: 소셜 연동 해제 실패
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SimpleErrorResponse'
        '401':
          description: 인증 실패 – 유효하지 않거나 누락된 액세스 토큰
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SimpleErrorResponse'
  /api/v1/auctions:
    get:
      tags:
        - Auctions
      summary: 전체 경매 조회
      parameters:
        - name: page
          in: query
          required: false
          schema:
            type: integer
            minimum: 0
        - name: size
          in: query
          required: true
          schema:
            type: integer
            minimum: 20
            maximum: 100
        - name: keyword
          in: query
          required: true
          description: 검색어
          schema:
            type: string
        - name: categoryId 
          in: query 
          required: false 
          description: 카테고리 ID로 필터링 
          schema: 
            type: integer 
        - name : order
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
              enum: [latest, bids, timeout] 
      responses:
        '200':
          description: 경매 목록 응답
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/PageResponse'
                  - type: object
                    properties:
                      content:
                        type: array
                        items:
                          type: object
                          properties:
                            auctionId:
                              type: integer
                              description: 경매id
                            thumbnailUrl:
                              type: string
                              format: uri
                              description: 썸네일 이미지 URL
                            category: 
                              type: object 
                              properties: 
                                id: 
                                  type: integer 
                                  description: 카테고리 ID 
                                name: 
                                  type: string 
                                  description: 카테고리 이름
                            name:
                              type: string
                              description: 경매 물품 이름
                            maxPrice:
                              type: integer
                              description: 최대 입찰 금액
                            instantPrice:
                              type: integer
                              description: 즉시 입찰 금액
                            bidCount:
                              type: integer
                              description: 입찰 수
                            endTime:
                              type: string
                              format: date-time
                              description: 경매 종료 시간
                            isWishlist:
                              type: boolean
                              description: 위시리스트 포함 여부
    post:
      tags:
        - Auctions
      summary: 경매등록
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                thumbnailUrl:
                  type: string
                  format: uri
                  description: 썸네일 이미지 URL
                imageUrls:
                  type: array
                  items:
                    type: string
                    format: uri
                  description: 상품 이미지 URL 목록
                productName:
                  type: string
                  description: 상품명
                categoryId:
                  type: integer
                  description: 카테고리 ID
                description:
                  type: string
                  description: 상품 설명
                zipCode:
                  type: string
                  description: 우편번호
                address:
                  type: string
                  description: 기본 주소
                addressDetail:
                  type: string
                  description: 상세 주소
                phoneNumber:
                  type: string
                  description: 핸드폰 번호
                startDate:
                  type: string
                  format: date-time
                  description: 경매 시작일 (날짜 + 시간)
                bidPeriod:
                  type: string
                  enum: ["3Day", "5Day"]
                  description: 입찰 기간
                startingPrice:
                  type: integer
                  description: 경매 시작가
                buyNowPrice:
                  type: integer
                  description: 즉시 입찰가 (선택 사항)
              required:
                - thumbnailUrl
                - imageUrls
                - productName
                - categoryId
                - description
                - zipCode
                - address
                - addressDetail
                - phoneNumber
                - startDate
                - bidPeriod
                - startingPrice
      responses:
        '201':
          description: 경매 등록 성공
        '400':
          description : invalid value
          content: 
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/SimpleErrorResponse'
  /api/v1/auctions/{auctionId}:              
    delete:
      tags:
        - Auctions
      summary: 경매제거
      parameters:
        - name: auctionId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: 경매 삭제 성공
        '409':
          description: 낙찰된 경매는 제거 불가능
          content: 
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/SimpleErrorResponse'
  /api/v1/auctions/{auctionId}/bids:
    post:
      tags:
        - Bids
      summary: 입찰
      parameters:
      - name: auctionId
        in: path
        required: true
        schema:
          type: integer
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                price:
                  type: integer
                  description: 입찰가
      responses:
        '200':
          description: 입찰 성공
        '401':
          description: 인증 실패
          content: 
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/SimpleErrorResponse'
        '403':
          description: 권한 없음
          content: 
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/SimpleErrorResponse'
  /api/v1/bids/{bidId}:
    delete:
      tags:
        - Bids
      summary: 입찰취소
      parameters:
      - name: bidId
        in: path
        required: true
        schema:
          type: integer
      responses:
        '204':
          description: 입찰취소 성공
        '401':
          description: 인증 실패
          content: 
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/SimpleErrorResponse'
        '403':
          description: 권한 없음
          content: 
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/SimpleErrorResponse'
  /api/v1/sales/{sellerId}:
    get:
      tags:
        - Auctions
      summary: 판매자 판매내역 조회
      parameters:
        - name: sellerId
          in: path
          required: true
          schema:
            type: integer
        - $ref: '#/components/parameters/PageParam'
        - $ref: '#/components/parameters/SizeParam'
      responses:
        '200':
          description: 판매자 판매 내역 조회 성공
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/PageResponse'
                  - type: object
                    properties:
                      content:
                        type: array
                        items:
                          type: object
                          properties:
                            auctionId:
                              type: integer
                              description: 경매id
                            thumbnailUrl:
                              type: string
                              format: uri
                              description: 썸네일 이미지 URL
                            name:
                              type: string
                              description: 경매 물품이름
                            maxPrice:
                              type: integer
                              description: 최대 입찰금액
                            startBidPrice:
                              type: integer
                              description: 입찰 시작가
                            description:
                              type: string
                              description: 상품 설명
                            salesCount:
                              type: integer
                              description: 총 판매 수
                            bidCount:
                              type: integer
                              description: 입찰 수
                            status:
                              type: string
                              enum: [waiting auction,in progress,pay waiting]
  /api/v1/auctions/{auctionId}/shipment:
    post:
      tags : 
      - shipment
      summary: 운송장 번호 등록
      description: 판매자가 특정 거래에 대한 운송장 번호를 입력합니다.
      parameters:
        - name: auctionId
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                trackingNumber:
                  type: string
                  example: "1234567890123"
      responses:
        '200':
          description: 운송장 번호 등록 성공
        '400':
          description: 유효하지 않은 입력값
        '404':
          description: 해당 경매 건을 찾을 수 없음
  /api/v1/wishlist:
    get:
      tags:
        - Member
      summary: 위시리스트 목록 조회
      parameters:
        - $ref: '#/components/parameters/PageParam'
        - $ref: '#/components/parameters/SizeParam'
        - name : order
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: 위시리스트 목록 조회 성공
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/PageResponse'
                  - type: object
                    properties:
                      content:
                        type: array
                        items:
                          type: object
                          properties:
                            wishlistId:
                              type: integer
                              description: 위시리스트 id
                            auctionId:
                              type: integer
                              description: 경매id
                            thumbnailUrl:
                              type: string
                              format: uri
                              description: 썸네일 이미지 URL
                            name:
                              type: string
                              description: 경매 물품이름
                            maxPrice:
                              type: integer
                              description: 최대 입찰금액
                            bidCount:
                              type: integer
                              description: 입찰 수
                            wishCount: 
                              type: integer
                              description: 관심 수
                            createdAt:
                              type: string
                              format: date-time
                              description: 생성 날짜
                              example: "2025-07-01T09:00:00Z"
      
    post:
      tags:
        - Member
      summary: 위시리스트 추가
      requestBody:
        content:
          application/json:
            schema:
             type: object
             properties:
                auctionId:
                  type: integer
                  description: 경매물품 id
      responses:
        '200':
          description: 위시리스트 추가 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  wishlistId:
                    type: integer
                    description: 위시리스트id
        '401':
          description: 인증 실패
          content: 
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/SimpleErrorResponse'
        '403':
          description: 권한 없음
          content: 
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/SimpleErrorResponse'
  /api/v1/wishlist/{wishlistId}:
    delete:
      tags: 
        - Member
      parameters:
        - name: wishlistId
          required: true
          in: path
          schema:
            type: integer
      responses:
        '204':
          description: 위시리스트 삭제 성공
        '401':
          description: 인증 실패
          content: 
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/SimpleErrorResponse'
          
  /api/v1/auctions/{auctionId}/review:
    post:
      tags:
        - Review
      summary: 리뷰 등록하기
      description: 사용자가 낙찰 받은 상품에 대해 리뷰를 작성합니다.
      security:
        - bearerAuth: []
      parameters:
        - name: auctionId
          required: true
          in: path
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                auctionId:
                  type: integer
                  description: 경매 ID
                rating:
                  type: integer
                  minimum: 1
                  maximum: 5
                  description: 별점 (1~5)
                content:
                  type: string
                  description: 리뷰 본문
              required:
                - auctionId
                - rating
                - content
      responses:
        '201':
          description: 리뷰 등록 성공
        '400':
          description: 잘못된 요청 데이터
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SimpleErrorResponse'
        '401':
          description: 인증 실패
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SimpleErrorResponse'
  /api/v1/auctions/{auctionId}/description:
    get:
      tags:
        - Auctions
      summary: 상품 설명
      parameters:
        - name: auctionId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 상품 설명 반환
          content:
            application/json:
              schema:
                type: object
                properties:
                  productName:
                    type: string
                    description: 상품명
                  categoryId:
                    type: integer
                    description: 카테고리 ID
                  categoryName: 
                    type: string 
                    description: 카테고리 이름 
                  description:
                    type: string
                    description: 상품 설명
                  endTime:
                    type: string
                    format: date-time
                    description: 경매 종료 시간
                  thumbnailUrl:
                    type: string
                    format: uri
                    description: 썸네일 이미지 URL
                  imageUrls:
                    type: array
                    items:
                      type: string
                      format: uri
                      description: 상품 이미지 URL 목록
                      
  /api/v1/auctions/{auctionId}/seller:
    get:
      tags:
        - Auctions
      summary: 특정 상품의 판매자 정보 조회
      description: 특정 상품의 판매자 정보를 조회합니다. 판매자 닉네임, 평균 별점, 전체 리뷰 수, 판매 완료 횟수, 가입일, 최근 리뷰 목록을 반환합니다.
      parameters:
        - name: auctionId
          in: path
          required: true
          schema:
            type: integer
            description: 조회할 경매의 ID
      responses:
        '200':
          description: 판매자 정보 반환 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  sellerId:
                    type: integer
                  sellerNickname:
                    type: string
                    example: 김판매
                  totalReviews:
                    type: integer
                    example: 156
                  averageRating:
                    type: number
                    format: float
                    example: 4.7
                    minimum: 0
                    maximum: 5
                  completedDeals:
                    type: integer
                    example: 127
                  createdAt: 
                    type: string
                    format: date
                    example: 2023-01-10
                  recentReviews:
                    type: array
                    maxItems: 3
                    items:
                      type: object
                      properties:
                        reviewer:
                          type: string
                          example: 김구매
                        rating:
                          type: integer
                          minimum: 0
                          maximum: 5
                          example: 5
                        content:
                          type: string
                          example: 배송도 빠르고 상품도 정확합니다.
                        date:
                          type: string
                          format: date
                          example: 2023-10-22
        '404':
          description: 상품 또는 판매자 정보를 찾을 수 없음
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SimpleErrorResponse'
  /api/v1/auctions/{auctionId}/orders/{type}:
    post:
      tags:
        - Orders
      summary: 주문 정보 등록
      description: 경매 ID를 기반으로 배송 정보를 등록합니다.
      parameters:
        - name: auctionId
          in: path
          required: true
          schema:
            type: integer
            description: 조회할 경매의 ID
        - name: type
          in: path
          required: true
          schema:
            type: string
            enum: [buy-now, award-bid]
            description: 주문 종류(일반 입찰, 즉시 입찰)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                price:
                  type: integer
                  description: 주문 금액
                zipCode:
                  type: string
                  description: 우편번호
                address:
                  type: string
                  description: 기본 주소
                addressDetail:
                  type: string
                  description: 상세 주소
                phoneNumber:
                  type: string
                  description: 핸드폰 번호
                receiver:
                  type: string
                  description: 받는 분
                content: 
                  type: string
                  description: 배송 요청 사항
      responses:
        '200':
          description: 즉시입찰 주문 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  orderId:
                    type: string
                    description: 주문id
        '400':
          description: 주문 실패
          content:
            application/json:
                schema:
                  $ref: '#/components/schemas/SimpleErrorResponse'
  /api/v1/orders/{orderId}:
    get:
      tags:
        - Orders
      summary: 특정 주문을 조회
      description: 주문 ID로 주문 상세 정보를 조회합니다.
      parameters: 
        - name: orderId 
          in: path 
          required: true
          description: 조회할 주문의 ID
          schema: 
            type: string
      responses:
        '200':
          description: 주문 상세 정보 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties: 
                  imageUrl:
                    type: string
                    format: uri
                    description: 상품 이미지 URL
                  productName:
                    type: string
                    description: 상품명
                  price: 
                    type: integer
                    description: 상품 가격
                  sellerName:
                    type: string
                    description: 판매자 이름
                  address:
                    type: string
                    description: 기본 주소
                  addressDetail:
                    type: string
                    description: 상세 주소
                  zipCode:
                    type: string
                    description: 우편번호
                  phoneNumber:
                    type: string
                    description: 수령인 연락처
                  deliveryRequest:
                    type: string
                    description: 배송 요청 사항 (선택)
                  recipient:
                    type: string
                    description: 수령인
        '400':
          description: 잘못된 요청
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SimpleErrorResponse'
        '404':
          description: 주문을 찾을 수 없음
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SimpleErrorResponse'
    put:
      tags:
        - Orders
      summary: 주문 정보 업데이트
      description: 주문 ID를 기반으로 배송 정보를 업데이트합니다.
      parameters:
        - name: orderId
          in: path
          required: true
          schema:
            type: string
          description: 주문 ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - address
                - addressDetail
                - zipCode
                - phone
                - receiver
              properties:
                address:
                  type: string
                  description: 기본 주소
                addressDetail:
                  type: string
                  description: 상세 주소
                zipCode:
                  type: string
                  description: 우편번호
                phone:
                  type: string
                  description: 전화번호
                content:
                  type: string
                  description: 배송 요청 사항 (선택)
                receiver:
                  type: string
                  description: 수령인
      responses:
        '200':
          description: 주문 정보 업데이트 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 주문이 성공적으로 업데이트되었습니다.
        '400':
          description: 잘못된 요청
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SimpleErrorResponse'
        '404':
          description: 주문을 찾을 수 없음
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SimpleErrorResponse'
  /api/v1/payments/confirm:
    post:
      tags:
        - Payment
      summary: 결제 확인
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                price:
                  type: integer
                  description: 주문 금액
                orderId:
                  type: string
                  description: 우편번호
                paymentKey:
                  type: string
                  description: 기본 주소
      responses:
        '200':
          description: 결제 성공
        '400':
          description: 결제 실패
  /api/v1/my/bids:
    get:
      tags:
        - Member
      summary: 마이 페이지 입찰 내역
      security:
        - bearerAuth: []
      parameters:
        - name: page
          in: query
          description: 조회할 페이지 번호(0부터 시작)
          required: false
          schema:
            type: integer
            default: 0
            minimum: 0
        - name: size
          in: query
          description: 페이지당 항목 수
          required: false
          schema:
            type: integer
            default: 5
            minimum: 1
            maximum: 100
      responses:
        '200':
          description: 마이페이지 입찰 내역 조회 성공
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/PageResponse'
                  - type: object
                    properties:
                      content:
                        type: array
                        items:
                          type: object
                          properties:
                            auctionId:
                              type: integer
                              description: 경매 ID
                              example: 122
                            bidId:
                              type: integer
                              description: 입찰 ID
                              example: 123
                            thumbnailUrl:
                              type: string
                              format: uri
                              description: 썸네일 이미지 URL
                            product:
                              type: string
                              description: 입찰 상품 
                              example: "아이폰14 Pro"
                            status:
                              type: string
                              description: 경매 상태
                              enum:
                                - ACTIVE
                                - OUTBID
                                - WINNING
                                - SUCCESS
                                - FAILED
                                - CANCELED
                            startBidPrice:
                              type: integer
                              description: 입찰 시작가
                            highestBidPrice:
                              type: integer
                              description: 최대 입찰 금액 
                              example: 850000
                            instantBidPrice:
                              type: integer
                              description: 즉시 입찰가
                              example: 1000000
                            myBidPrice:
                              type: integer
                              description: 내 입찰가
                              example: 820000
                            finalBidder:
                              type: string
                              description: 최종 낙찰자
                              example: "김구매"
                            finalBidPrice:
                              type: integer
                              description: 최종 낙찰가
                              example: 900000
                            bidTime:
                              type: string
                              format: date-time
                              description: 입찰 시각
                              example: "2025-07-07T15:30:00Z"
                            createdAt:
                              type: string
                              format: date-time
                              description: 생성 날짜
                              example: "2025-07-01T09:00:00Z"
                            paymentDeadline:
                              type: string
                              format: date-time
                              description: 결제 마감 시간 
                              example: "2025-08-01"
                            bidCount:
                              type: integer
                              description: 총 입찰 개수
                              example: 42
                            sellerName:
                              type: string
                              description: 판매자 닉네임
  /api/v1/my/auctions:
    get:
      tags:
        - Member
      summary: 나의 판매 내역 조회
      description: 로그인한 사용자의 판매 등록 내역을 조회합니다. 
      parameters:
        - name: page
          in: query
          required: false
          schema:
            type: integer
            minimum: 0
        - name: size
          in: query
          required: true
          schema:
            type: integer
            minimum: 5
            maximum: 20
        - name : order
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: 나의 판매 내역 응답
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/PageResponse'
                  - type: object
                    properties:
                      content:
                        type: array
                        items:
                          type: object
                          properties:
                            auctionId:
                              type: integer
                              description: 경매id
                            thumbnailUrl:
                              type: string
                              format: uri
                              description: 썸네일 이미지 URL
                            category: 
                              type: object 
                              properties: 
                                id: 
                                  type: integer 
                                  description: 카테고리 ID 
                                name: 
                                  type: string 
                                  description: 카테고리 이름
                            name:
                              type: string
                              description: 경매 물품 이름
                            maxPrice:
                              type: integer
                              description: 최대 입찰 금액
                            instantPrice:
                              type: integer
                              description: 즉시 입찰 금액
                            bidCount:
                              type: integer
                              description: 입찰 수
                            salesCount:
                              type: integer
                              description: 총 판매 수
                            endTime:
                              type: string
                              format: date-time
                              description: 경매 종료 시간
                            bidderName:
                              type: string
                              example: "홍길동"
                              description: 낙찰자
                            paymentDeadline:
                              type: string
                              format: date-time
                              description: 결제 마감 시간
                            createdAt:
                              type: string
                              format: date-time
                              description: 생성 날짜
                              example: "2025-07-01T09:00:00Z"
                            status:
                              type: string
                              enum: [OPEN, PENDING, SUCCESS, REJECT, INTRANSIT, DELIVERED, FAIL]
                              description: 경매 상태
  /api/v1/auctions/{auctionId}/second-bidder/offer:
    post: 
      tags:
        - Member
      summary: 차상위 입찰자에게 입찰 제안
      description : 최상위 입찰자가 결제를 거부하거나 결제 기한 내 결제하지 않는 경우, 차상위 입찰자에게 결제 기회를 제공하는 알림을 보냅니다.
      parameters:
        - name: auctionId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 제안 요청 성공
          content: 
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "차상위 입찰자에게 알림을 전송했습니다."
        '404':
          description: 해당 경매 또는 입찰 내역 없음
        '409':
          description: 이미 차상위 입찰자에게 알림을 보냄
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "이미 차상위 입찰자에게 알림을 보냈습니다."
  /api/v1/actions/{auctionId}/bids/rejection:
    put:
      tags:
        - Member
      summary: 낙찰 포기
      parameters:
        - name: auctionId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 낙찰 포기 성공
        '400':
          description: 잘못된 요청 데이터
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SimpleErrorResponse'
        '401':
          description: 인증 실패
          content: 
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/SimpleErrorResponse'
  /api/v1/categories:
    get:
      tags:
        - Category
      summary: 카테고리 목록 조회
      description: 전체 카테고리 목록을 조회합니다.
      responses:
        '200':
          description: 카테고리 리스트 조회 성공
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Category'
              examples:
                example:
                  summary: 조회 예시
                  value:
                    - categoryId: 1
                      name: 패션
                    - categoryId: 2
                      name: 전자제품
                    - categoryId: 3
                      name: 스포츠
                    - categoryId: 4
                      name: 가구
                    - categoryId: 5
                      name: 생활용품
                    - categoryId: 6
                      name: 기타
                    
  /api/v1/categories/{categoryId}:
    get:
      tags:
        - Category
      summary: 카테고리 단건 조회
      description: 카테고리 ID로 카테고리 이름을 조회합니다.
      parameters:
        - name: categoryId
          in: path
          required: true
          schema:
            type: integer
          description: 조회할 카테고리의 ID
      responses:
        '200':
          description: 카테고리 조회 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Category'
        '404':
          description: 해당 ID의 카테고리를 찾을 수 없음
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SimpleErrorResponse'
        
components:
  securitySchemes:
    bearerAuth: # arbitrary name for the security scheme
      type: http
      scheme: bearer
      bearerFormat: JWT # optional, arbitrary value for documentation 
  parameters:
    PageParam:
      name: page
      in: query
      required: false
      schema:
        type: integer
        minimum: 0
    SizeParam:
      name: size
      in: query
      required: true
      schema:
        type: integer
        minimum: 20
        maximum: 100
  schemas:
    Category:
      type: object
      properties:
        categoryId:
          type: integer
          format: int64
          example: 1
        name:
          type: string
          example: 패션
    SimpleErrorResponse:
      type: object
      properties:
        message:
          type: string
          example: "[ERROR] 필수 항목이 누락되었습니다."
    PageResponse:
      type: object
      properties:
        content:
          type: array
          items:
            type: object  
        totalElements:
          type: integer
        totalPages:
          type: integer
        size:
          type: integer
        number:
          type: integer
        first:
          type: boolean
